<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Servicio de Convocatoria - Premios Vásquez</title>
<style>
  body {
    background-color: black;
    color: white;
    font-family: monospace;
    text-align: center;
    padding-top: 5%;
  }

  img {
    width: 200px;
    margin-top: 20px;
  }

  p {
    font-size: 14px;
    color: #aaa;
  }

  .keypad {
    display: grid;
    grid-template-columns: repeat(3, 60px);
    gap: 10px;
    justify-content: center;
    margin-top: 20px;
  }

  button {
    background: none;
    border: 1px solid #555;
    color: white;
    font-size: 18px;
    padding: 10px;
    cursor: pointer;
    transition: 0.2s;
  }

  button:hover {
    border-color: limegreen;
    color: limegreen;
  }

  button:active {
    background: limegreen;
    color: black;
  }
</style>
</head>
<body>
  <h2>El teléfono está en espera</h2>
  <img src="nokia.png" alt="Teléfono Nokia">
  <p>Presione un número para continuar.</p>

  <div class="keypad">
    <button onclick="mark(1)">1</button>
    <button onclick="mark(2)">2</button>
    <button onclick="mark(3)">3</button>
    <button onclick="mark(0)">0</button>
  </div>

  <audio id="audioPlayer" preload="auto"></audio>

  <script>
    const player = document.getElementById('audioPlayer');

    const audios = {
      inicio: 'intro.mp3',
      memoria: 'memoria.mp3',
      territorio: 'territorio.mp3',
      identidad: 'identidad.mp3',
      error: 'error.mp3',
      humano: 'humano.mp3',
      cierre: 'cierre.mp3'
    };

    window.onload = () => {
      player.src = audios.inicio;
      player.play();

      // Si no se presiona nada después del intro → cierre
      setTimeout(() => {
        if (player.src.includes(audios.inicio)) {
          player.src = audios.cierre;
          player.play();
        }
      }, 20000);
    };

    function mark(num) {
      if (num === 1) {
        sequence(audios.memoria);
      } else if (num === 2) {
        sequence(audios.territorio);
      } else if (num === 3) {
        sequence(audios.identidad);
      } else if (num === 0) {
        playHuman();
      } else {
        sequence(audios.error);
      }
    }

    document.addEventListener('keydown', (event) => {
      if (['0', '1', '2', '3'].includes(event.key)) {
        mark(parseInt(event.key));
      }
    });

    function sequence(audioName) {
      player.src = audioName;
      player.play();
      setTimeout(() => {
        player.src = audios.error;
        player.play();
      }, 5000); // cambia según duración de tus audios
    }

    function playHuman() {
      player.src = audios.humano;
      player.play();
    }
  </script>
</body>
</html>
